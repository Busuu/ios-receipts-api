# PHP IOS payments library

A library to get information on user subscriptions from the App Store receipts API. Useful to retrieve informations such as _is there a valid subscription for this user?_ or _has the user requested a cancellation of his subscription?_

## Features

* Abstracts the complexity of interacting with IOS receipts
* Extensively unit tested and used in production at Busuu, a language learning platform with 60M users
* Follows PSR-4 conventions and coding standard: autoload friendly

## Requirements

* PHP >= 5.5
* [Guzzle](https://github.com/guzzle/guzzle) library,
* (optional) PHPUnit to run tests.

## Installation

We recommend using composer to install this library.

Run this commands to install composer if you don't already have it:

```bash
$ curl -sS https://getcomposer.org/installer | php
```

Then install this library with:
```bash
$ php composer.phar require busuu/ios-payments
```

Or edit `composer.json` and add:

```json
{
    "require": {
        "busuu/ios-payments": "~1.0"
    }
}
```

## Basic usage

```php
<?php

// This file is generated by Composer
require_once 'vendor/autoload.php';

$client = new \Busuu\IosPayments\ReceiptService('your_apple_api_password');
$receipt = $client->getFullReceipt('user_receipt_data');
```